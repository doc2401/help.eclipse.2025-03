<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>VirtualMachine (Eclipse JDT API Specification)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.eclipse.jdi.hcr, interface: VirtualMachine">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><span style='font-size:small'><b>Eclipse JDT</b><br>2025-03 (4.35)</span></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/VirtualMachine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.jdi.hcr</a></div>
<h1 title="Interface VirtualMachine" class="title">Interface VirtualMachine</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">VirtualMachine</span></div>
<div class="block">Hot code replacement extension to <code>com.sun.jdi.VirtualMachine</code>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#RELOAD_FAILURE" class="member-name-link">RELOAD_FAILURE</a></code></div>
<div class="col-last even-row-color">
<div class="block">The VM is inconsistent after the reload operation</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#RELOAD_IGNORED" class="member-name-link">RELOAD_IGNORED</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The reload operation was ignored</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#RELOAD_SUCCESS" class="member-name-link">RELOAD_SUCCESS</a></code></div>
<div class="col-last even-row-color">
<div class="block">All the given type were reloaded</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#canDoReturn()" class="member-name-link">canDoReturn</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Determines if this implementation supports the early return of the top
 stack frame of a thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#canGetClassFileVersion()" class="member-name-link">canGetClassFileVersion</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Determines if this implementation supports the retrieval of a class file
 version.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#canReenterOnExit()" class="member-name-link">canReenterOnExit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Determines if this implementation supports the reenter stepping.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#canReloadClasses()" class="member-name-link">canReloadClasses</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Determines if this implementation supports the replacement of classes on
 the fly.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#classesHaveChanged(java.lang.String%5B%5D)" class="member-name-link">classesHaveChanged</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;arg1)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Notifies the VM that the class file base that it is running from has changed.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="RELOAD_SUCCESS">
<h3>RELOAD_SUCCESS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">RELOAD_SUCCESS</span></div>
<div class="block">All the given type were reloaded</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.eclipse.jdi.hcr.VirtualMachine.RELOAD_SUCCESS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="RELOAD_FAILURE">
<h3>RELOAD_FAILURE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">RELOAD_FAILURE</span></div>
<div class="block">The VM is inconsistent after the reload operation</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.eclipse.jdi.hcr.VirtualMachine.RELOAD_FAILURE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="RELOAD_IGNORED">
<h3>RELOAD_IGNORED</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">RELOAD_IGNORED</span></div>
<div class="block">The reload operation was ignored</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.eclipse.jdi.hcr.VirtualMachine.RELOAD_IGNORED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="canDoReturn()">
<h3>canDoReturn</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">canDoReturn</span>()</div>
<div class="block">Determines if this implementation supports the early return of the top
 stack frame of a thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the feature is supported, <code>false</code>
         otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="canGetClassFileVersion()">
<h3>canGetClassFileVersion</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">canGetClassFileVersion</span>()</div>
<div class="block">Determines if this implementation supports the retrieval of a class file
 version.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the feature is supported, <code>false</code>
         otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="canReenterOnExit()">
<h3>canReenterOnExit</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">canReenterOnExit</span>()</div>
<div class="block">Determines if this implementation supports the reenter stepping.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the feature is supported, <code>false</code>
         otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="canReloadClasses()">
<h3>canReloadClasses</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">canReloadClasses</span>()</div>
<div class="block">Determines if this implementation supports the replacement of classes on
 the fly.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the feature is supported, <code>false</code>
         otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="classesHaveChanged(java.lang.String[])">
<h3>classesHaveChanged</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">classesHaveChanged</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;arg1)</span></div>
<div class="block">Notifies the VM that the class file base that it is running from has changed. Classes are given by their names.
 <p>
 The class file base is the collection of class files available on the various VM's class paths consulted by the class loaders that are integral
 to the system. In JDK 1.2, these would include all files on the boot class path (used by the bootstrap class loader), the extension directory
 (used by the extension class loader), and the regular class path (used by the application class loader). The notion is important because only
 those classes that the VM knows to be in the class file base will be eligible for hot code replacement. Classes that are actually loaded by
 non-standard class loaders cannot be replaced on the fly (because the VM has no way of asking non-standard class loaders to reload them).
 Classes loaded from the class file base by cooperating class loaders are said to be HCR-eligible.
 </p>
 The VM is expected to:
 <ol>
 <li>Suspend all running threads.
 <li>For a given JNI signature, try to find the definition of the corresponding class.
 <ul>
 <li>If the class definition can be found then it replaces the previous definition for that class.
 <li>If a definition for the class is not found, then it is unloaded.
 <ul>
 <li>This operation returns only when the classes have been reloaded and/or deleted.
 <li>If the suspend policy of the class unload event is not to suspend the VM, then the VM resumes all the threads that it has suspended.
 <li>Finally for each class that has been reloaded, the VM is expected to
 <ul>
 <li>send a class unload event,
 <li>note the VM is already suspended if the suspend policy of class unload event said so,
 <li>when the frontend resumes the VM, send a class prepare event,
 <li>suspend the VM according to the suspend policy of the class prepare event request.
 </ul>
 <li>For each class that has been unloaded, the VM is expected to
 <ul>
 <li>send a class unload event,
 <li>suspend the VM if it was requested by the class unload event request.
 </ul>
 </ul>
 </ul>
 </ol>
 <p>
 Subsequent references to classes will work with the new class definition. Note the existing <code>com.sun.jdi.ReferenceType</code>,
 <code>com.sun.jdi.Method</code> and <code>com.sun.jdi.Field</code> still refer to the old class definition. So they should be discarded when
 the class unload event come in.
 </p>
 The VM does not discard stack frames automatically:
 <ul>
 <li>methods on the stack are not affected, and could therefore be referencing obsolete code
 <li>replacing a class does not affect anything on the stack
 <li>subsequent class and method lookups find the replacements
 </ul>

 Installed breakpoints are not automatically carried over to the reloaded class:
 <ul>
 <li>breakpoints are resolved to particular locations in particular classes and methods
 <li>the VM must clear breakpoints to methods in classes that have been reloaded or unloaded (the debugger will reinstall them when it gets the
 class prepare event.)
 </ul>
 <p>
 A change notice encompasses changes to the content of a class file in the base, the addition of a class files to the base, and the removal of a
 class file from the base.
 </p>
 <p>
 Change notices apply to all classes that are HCR-eligible (i.e., loaded by one of the cooperative system class loaders); other classes are
 never affected.
 </p>
 Returns whether the operation could be completed as specified above, whether it was ignored (for example if the VM doesn't support this kind of
 replacement), or whether the operation failed and the VM should be restarted.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>arg1</code> - the names of the classes that have changed</dd>
<dt>Returns:</dt>
<dd>whether the operation could be completed as specified above, whether it was ignored (for example if the VM doesn't support this kind of
         replacement), or whether the operation failed and the VM should be restarted</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><br><span style='font-size:small;float:right'>Copyright (c) 2000, 2023 Eclipse Contributors and others. All rights reserved.</span><span style='font-size:small'><a href='../../../../../misc/api-usage-rules.html'>Guidelines for using Eclipse APIs.</a></span></small></p>
</footer>
</div>
</div>
</body>
</html>
